
## Назва системи й короткий опис 

**Назва:** E-Shop Core API

**Опис:**
Це серверна частина (бек-енд) для мінімалістичного онлайн-магазину цифрових товарів. Система надає API (Application Programming Interface) для керування каталогом товарів, реєстрації користувачів та обробки замовлень.

Основна спеціалізація — продаж цифрових товарів (наприклад, електронних книг, навчальних курсів або стокових фото), що спрощує логіку, оскільки не вимагає управління складом чи фізичною доставкою.

## Хто користувачі (ролі) 

1.  **Гість (неавторизований):** Будь-який відвідувач, який ще не увійшов у систему.
2.  **Покупець (авторизований):** Користувач, який зареєструвався і увійшов у систему.
3.  **Адміністратор:** Власник магазину (ви), який має повний доступ до управління системою.

## Основні сценарії використання 

1.  **Перегляд каталогу (Гість):** Гість заходить на сайт і переглядає список доступних товарів та їх деталі (опис, ціна).
2.  **Реєстрація та Вхід (Гість/Покупець):** Гість реєструється, щоб стати Покупцем. Покупець входить у свій акаунт.
3.  **Покупка товару (Покупець):** Покупець додає товар у кошик та оформлює "замовлення". Після "оплати" (яку ми імітуємо) товар з'являється у його особистому кабінеті для завантаження.
4.  **Перегляд своїх покупок (Покупець):** Покупець заходить у свій профіль і бачить список усіх придбаних ним товарів.
5.  **Додавання нового товару (Адміністратор):** Адміністратор входить у систему та додає новий товар (назву, опис, ціну, файл) до каталогу.

## Функціональні вимоги

* Система **повинна** надавати API для реєстрації та автентифікації (входу) користувачів.
* Система **повинна** дозволяти Адміністратору створювати, редагувати та видаляти товари (CRUD).
* Система **повинна** дозволяти Гостям та Покупцям переглядати список товарів та деталі окремого товару.
* Система **повинна** дозволяти Покупцю створити "замовлення" (імітація покупки).
* Система **повинна** показувати Покупцю список його придбаних товарів.

## Нефункціональні вимоги

Ці вимоги визначають стандарти якості системи.

**1. Продуктивність (Performance)**
* **Метрика (API Response Time):** 95% усіх "читаючих" запитів (наприклад, `GET /products`, `GET /products/{id}`) повинні повертати відповідь швидше, ніж за **500 мілісекунд (ms)**.
* **Метрика (Server Load):** API-сервер повинен стабільно обробляти до **20 запитів на секунду (RPS)** без суттєвої деградації швидкості.

**2. Безпека (Security)**
* **Вимога (Password Hashing):** Паролі користувачів **повинні** зберігатися у базі даних виключно у хешованому вигляді з використанням надійного, асиметричного алгоритму (наприклад, **bcrypt**). Зберігання паролів у відкритому тексті чи через прості (напр. MD5) хеші заборонено.
* **Вимога (Authentication):** Доступ до будь-яких персональних даних (напр. `GET /my-orders`) чи дій, що змінюють дані (POST, PUT, DELETE), **повинен** вимагати валідний токен автентифікації (напр., JWT).
* **Вимога (Authorization):** Система **повинна** чітко розділяти ролі. Спроба покупця виконати дію адміністратора (напр., `DELETE /products/{id}`) **повинна** повертати помилку `403 Forbidden`.

**3. Надійність (Reliability)**
* **Метрика (Availability):** Очікуваний час безвідмовної роботи API становить **99.5%**.
* **Вимога (Error Handling):** Усі очікувані помилки (напр., "товар не знайдено", "невірні дані в запиті") **повинні** повертати клієнту структуровану JSON-відповідь з чітким кодом помилки (згідно з `ErrorResponse` в `openapi.yaml`), а не падати з помилкою сервера `500`.

**4. Зручність використання та Підтримка (Usability & Maintainability)**
* **Вимога (Documentation):** API **повинен** мати актуальну документацію (`openapi.yaml`), яка описує всі доступні ендпоїнти, моделі даних та коди помилок.
* **Вимога (Code Style):** Код має відповідати стандартам **PEP 8** для Python.

## Обмеження:

* Система **не буде** обробляти реальні платежі. Процес оплати імітується.
* Система **не буде** займатися фізичною доставкою (тільки цифрові товари).
* Система **не буде** мати складного управління запасами (всі цифрові товари доступні завжди).